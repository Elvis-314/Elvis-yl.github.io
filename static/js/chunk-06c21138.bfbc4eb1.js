(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-06c21138"],{"355f":function(t,e,i){t.exports=i.p+"static/img/slide-2.cea18fbe.jpg"},4497:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slideYz"},[i("el-card",[i("div",{attrs:{slot:"header"},slot:"header"},[i("span",[t._v("SlideVerify")])]),t._v(" "),i("p",{staticClass:"pTitle"},[i("i",{staticClass:"el-icon-s-opportunity"}),t._v("\n      Click the button：\n    ")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.showSlide=!0}}},[t._v("verify")]),t._v(" "),i("p",{staticClass:"pTitle fontBold",staticStyle:{"margin-top":"50px"}},[t._v("params：")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataTab1,border:"",stripe:""}},[i("el-table-column",{attrs:{prop:"params",label:"params"}}),t._v(" "),i("el-table-column",{attrs:{prop:"type",label:"type"}}),t._v(" "),i("el-table-column",{attrs:{prop:"default",label:"default"}}),t._v(" "),i("el-table-column",{attrs:{prop:"info",label:"info"}})],1),t._v(" "),i("p",{staticClass:"pTitle fontBold",staticStyle:{"margin-top":"20px"}},[t._v("callback：")]),t._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataTab2,border:"",stripe:""}},[i("el-table-column",{attrs:{prop:"funcName",label:"funcName"}}),t._v(" "),i("el-table-column",{attrs:{prop:"type",label:"type"}}),t._v(" "),i("el-table-column",{attrs:{prop:"info",label:"info"}})],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showSlide,expression:"showSlide"}],staticClass:"slideSty"},[i("slide-verify",{ref:"slideDiv",attrs:{"slider-text":t.text,w:350,h:175},on:{success:t.onSuccess,fail:t.onFail}}),t._v(" "),i("div",{staticClass:"iconBtn"},[i("i",{staticClass:"el-icon-circle-close",on:{click:function(e){t.showSlide=!1}}}),i("i",{staticClass:"el-icon-refresh",on:{click:t.refresh}})])],1)],1)],1)},n=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slide-verify",attrs:{id:"slideVerify",onselectstart:"return false;"}},[i("canvas",{ref:"canvas",attrs:{width:t.w,height:t.h}}),t._v(" "),i("div",{staticClass:"slide-verify-refresh-icon",on:{click:t.refresh}}),t._v(" "),i("canvas",{ref:"block",staticClass:"slide-verify-block",attrs:{width:t.w,height:t.h}}),t._v(" "),i("div",{staticClass:"slide-verify-slider",class:{"container-active":t.containerActive,"container-success":t.containerSuccess,"container-fail":t.containerFail}},[i("div",{staticClass:"slide-verify-slider-mask",style:{width:t.sliderMaskWidth}},[i("div",{staticClass:"slide-verify-slider-mask-item",style:{left:t.sliderLeft},on:{mousedown:t.sliderDown,touchstart:t.touchStartEvent,touchmove:t.touchMoveEvent,touchend:t.touchEndEvent}},[i("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),i("span",{staticClass:"slide-verify-slider-text"},[t._v(t._s(t.sliderText))])])])},r=[],o=(i("c5f6"),Math.PI);function c(t,e){return t+e}function l(t){return t*t}var u={name:"SlideVerify",props:{l:{type:Number,default:42},r:{type:Number,default:10},w:{type:Number,default:310},h:{type:Number,default:155},sliderText:{type:String,default:"Slide filled right"}},data:function(){return{containerActive:!1,containerSuccess:!1,containerFail:!1,canvasCtx:null,blockCtx:null,block:null,block_x:void 0,block_y:void 0,L:this.l+2*this.r+3,img:void 0,originX:void 0,originY:void 0,isMouseDown:!1,trail:[],sliderLeft:0,sliderMaskWidth:0}},mounted:function(){this.init()},methods:{init:function(){this.initDom(),this.initImg(),this.bindEvents()},initDom:function(){this.block=this.$refs.block,this.canvasCtx=this.$refs.canvas.getContext("2d"),this.blockCtx=this.block.getContext("2d")},initImg:function(){var t=this,e=this.createImg(function(){t.drawBlock(),t.canvasCtx.drawImage(e,0,0,t.w,t.h),t.blockCtx.drawImage(e,0,0,t.w,t.h);var i=t.block_x,s=t.block_y,n=t.r,a=t.L,r=s-2*n-1,o=t.blockCtx.getImageData(i,r,a,a);t.block.width=a,t.blockCtx.putImageData(o,0,r)});this.img=e},drawBlock:function(){this.block_x=this.getRandomNumberByRange(this.L+10,this.w-(this.L+10)),this.block_y=this.getRandomNumberByRange(10+2*this.r,this.h-(this.L+10)),this.draw(this.canvasCtx,this.block_x,this.block_y,"fill"),this.draw(this.blockCtx,this.block_x,this.block_y,"clip")},draw:function(t,e,i,s){var n=this.l,a=this.r;t.beginPath(),t.moveTo(e,i),t.arc(e+n/2,i-a+2,a,.72*o,2.26*o),t.lineTo(e+n,i),t.arc(e+n+a-2,i+n/2,a,1.21*o,2.78*o),t.lineTo(e+n,i+n),t.lineTo(e,i+n),t.arc(e+a-2,i+n/2,a+.4,2.76*o,1.24*o,!0),t.lineTo(e,i),t.lineWidth=2,t.fillStyle="rgba(255, 255, 255, 0.8)",t.strokeStyle="rgba(255, 255, 255, 0.8)",t.stroke(),t[s](),t.globalCompositeOperation="xor"},createImg:function(t){var e=this,i=document.createElement("img");return i.crossOrigin="Anonymous",i.onload=t,i.onerror=function(){i.src=e.getRandomImg()},i.src=this.getRandomImg(),i},getRandomImg:function(){return i("a8fb")("./slide-".concat(this.getRandomNumberByRange(0,4),".jpg"))},getRandomNumberByRange:function(t,e){return Math.round(Math.random()*(e-t)+t)},refresh:function(){this.reset(),this.$emit("refresh")},sliderDown:function(t){this.originX=t.clientX,this.originY=t.clientY,this.isMouseDown=!0},touchStartEvent:function(t){this.originX=t.changedTouches[0].pageX,this.originY=t.changedTouches[0].pageY,this.isMouseDown=!0},bindEvents:function(){var t=this;document.addEventListener("mousemove",function(e){if(!t.isMouseDown)return!1;var i=e.clientX-t.originX,s=e.clientY-t.originY;if(i<0||i+38>=t.w)return!1;t.sliderLeft=i+"px";var n=(t.w-40-20)/(t.w-40)*i;t.block.style.left=n+"px",t.containerActive=!0,t.sliderMaskWidth=i+"px",t.trail.push(s)}),document.addEventListener("mouseup",function(e){if(!t.isMouseDown)return!1;if(t.isMouseDown=!1,e.clientX===t.originX)return!1;t.containerActive=!1;var i=t.verify(),s=i.spliced,n=i.TuringTest;s?n?(t.containerSuccess=!0,t.$emit("success")):(t.containerFail=!0,t.sliderText="try again",t.reset()):(t.containerFail=!0,t.$emit("fail"),setTimeout(function(){t.reset()},1e3))})},touchMoveEvent:function(t){if(!this.isMouseDown)return!1;var e=t.changedTouches[0].pageX-this.originX,i=t.changedTouches[0].pageY-this.originY;if(e<0||e+38>=this.w)return!1;this.sliderLeft=e+"px";var s=(this.w-40-20)/(this.w-40)*e;this.block.style.left=s+"px",this.containerActive=!0,this.sliderMaskWidth=e+"px",this.trail.push(i)},touchEndEvent:function(t){var e=this;if(!this.isMouseDown)return!1;if(this.isMouseDown=!1,t.changedTouches[0].pageX===this.originX)return!1;this.containerActive=!1;var i=this.verify(),s=i.spliced,n=i.TuringTest;s?n?(this.containerSuccess=!0,this.$emit("success")):(this.containerFail=!0,this.sliderText="try again",this.reset()):(this.containerFail=!0,this.$emit("fail"),setTimeout(function(){e.reset()},1e3))},verify:function(){var t=this.trail,e=t.reduce(c)/t.length,i=t.map(function(t){return t-e}),s=Math.sqrt(i.map(l).reduce(c)/t.length),n=parseInt(this.block.style.left);return{spliced:Math.abs(n-this.block_x)<10,TuringTest:e!==s}},reset:function(){this.containerActive=!1,this.containerSuccess=!1,this.containerFail=!1,this.sliderLeft=0,this.block.style.left=0,this.sliderMaskWidth=0;var t=this.w,e=this.h;this.canvasCtx.clearRect(0,0,t,e),this.blockCtx.clearRect(0,0,t,e),this.block.width=t,this.img.src=this.getRandomImg()}}},h=u,d=(i("4b2e"),i("2877")),f=Object(d["a"])(h,a,r,!1,null,"de2b05ec",null),v=f.exports,p={components:{SlideVerify:v},data:function(){return{showSlide:!1,text:"Slide to the right",dataTab1:[{params:"l",type:"Number",default:42,info:"length of the slide"},{params:"r",type:"Number",default:10,info:"radius of the slide"},{params:"w",type:"Number",default:310,info:"width of the canvas"},{params:"h",type:"Number",default:155,info:"height of the canvas"},{params:"slideText",type:"String",default:"Slide filled right",info:"slide text"}],dataTab2:[{funcName:"success",type:"Function",info:"verify success"},{funcName:"fail",type:"Function",info:"verify failed"},{funcName:"refresh",type:"Function",info:"refresh"}]}},methods:{onSuccess:function(){this.showSlide=!1,this.$message.success("Authentication is successful"),this.refresh()},onFail:function(){this.$message.error("Validation fails")},refresh:function(){this.$refs.slideDiv.reset()}}},m=p,g=(i("7736"),i("9653"),Object(d["a"])(m,s,n,!1,null,"6b979ff0",null));e["default"]=g.exports},"4b2e":function(t,e,i){"use strict";var s=i("62d5"),n=i.n(s);n.a},"4bfa":function(t,e,i){},5492:function(t,e,i){t.exports=i.p+"static/img/slide-3.b09c45d3.jpg"},"62d5":function(t,e,i){},"69a7":function(t,e,i){t.exports=i.p+"static/img/slide-0.da0554a1.jpg"},"71c4":function(t,e,i){t.exports=i.p+"static/img/slide-1.2e41a424.jpg"},7736:function(t,e,i){"use strict";var s=i("4bfa"),n=i.n(s);n.a},8162:function(t,e,i){},9653:function(t,e,i){"use strict";var s=i("8162"),n=i.n(s);n.a},a8fb:function(t,e,i){var s={"./slide-0.jpg":"69a7","./slide-1.jpg":"71c4","./slide-2.jpg":"355f","./slide-3.jpg":"5492","./slide-4.jpg":"c017"};function n(t){var e=a(t);return i(e)}function a(t){var e=s[t];if(!(e+1)){var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}return e}n.keys=function(){return Object.keys(s)},n.resolve=a,t.exports=n,n.id="a8fb"},c017:function(t,e,i){t.exports=i.p+"static/img/slide-4.729bc3cf.jpg"}}]);